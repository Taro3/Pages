# ログインUI - パート2

アンカーとポジショナーを使って、UIコンポーネントをページ上に配置する方法を説明します。

![image](https://doc.qt.io/qtdesignstudio/images/loginui2.png)

Log In UI - パート 2 は、Qt Design Studio を使用してページ、ボタン、入力フィールドなどの基本的な UI コンポーネントを使用してシンプルな UI を作成する方法を説明する一連の例の第 2 回目です。パート 2 では、UI コンポーネントをページ上に配置してスケーラブルな UI を作成する方法を説明しています。

デスクトップや異なる画面サイズのデバイスで UI のサイズを変更したときに、レイアウトがレスポンシブになり、すべての UI 要素が適切な位置に維持されるようにするには、アンカーとポジショナーを使用します。

これらの手順は、Log In UI - パート 1 をベースにしています。

Learn Qt Quick セクションでは、現在のタスクに関連する QML と Qt Quick の機能についての追加情報を提供します。

***

## UIコンポーネントのアンカリング

まず、フォームエディタに新しい矩形を追加し、現在のすべての UI コンポーネントをそこに移動して新しいページを作成します。次に、ページ上の静的要素、つまりロゴ画像 (logo) とページタイトル (pageTitle) をページにアンカーします。この例のパート1で新規プロジェクトウィザードを使ってプロジェクトを作成したとき、ウィザードはpageTitleをページの縦と横の中央にアンカーしました。そのため、pageTitleの縦のアンカーを上のアンカーに置き換えて、ページ上のロゴに合わせるだけで済みます。

UI に加えた変更をプレビューするには、フォームエディタツールバーの ![Show Live Preview](https://doc.qt.io/qtdesignstudio/images/live_preview.png) (ライブプレビューを表示する) ボタンを選択するか、Alt+P キーを押します。

ページ上のコンポーネントをアンカーするには

1. デザイン モードのフォーム エディタで編集するために Screen01.ui.qml を開きます。
2. ナビゲータで UI の背景を形成する長方形を選択し、プロパティ ビューでその ID をルートに変更します。
3. ライブラリからレクタングルをルートにドラッグ＆ドロップし、そのIDをloginPageに変更します。
4. レイアウトビューで、![image](https://doc.qt.io/qtdesignstudio/images/anchor-fill.png) (Fill Parent Item)ボタンを選択して、ページをすべての面でルートアイテムに固定します。
5. ナビゲータでルート以下の他のUI要素をすべて選択し（Shiftキーを押して複数選択）、loginPageにドラッグします。
6. ナビゲータでロゴを選択します。
7. アンカーボタン ![image](https://doc.qt.io/qtdesignstudio/images/anchor-top.png)(上)と ![image](https://doc.qt.io/qtdesignstudio/images/anchor-left.png)(左)を選択して、ロゴを親(loginPage)の左上に10ピクセルの余白で固定します。
8. ナビゲータで「ページタイトル」を選択します。
9. ![image](https://doc.qt.io/qtdesignstudio/images/anchor-vertical-center.png)(縦方向中央)ボタンの選択を解除してアンカーを削除し、[上]ボタンを選択して、タイトルをページの上部に70ピクセルのマージンでアンカーします。
10. ファイル＞保存を選択するか、Ctrl+Sを押して変更を保存します。

あなたのページは、デザインモードとライブプレビューでは、このように表示されるはずです。

![preview](https://doc.qt.io/qtdesignstudio/images/loginui2-loginpage.png)

***

## コラムポジショナーの使用

これで、ページに2つの入力欄を追加して、項目の配置方法を別のコラムで学習していきます。次に、ページ上のプッシュボタンを別の列に配置します。最後に、画面サイズが変わったときにカラムの位置が変更できるように、ページにアンカーをかけます。

ページに入力フィールドを追加するには

1. ライブラリ > QML タイプで、+ QtQuick.Controlsボタンを選択して、タブ内のQt Quick Controls 2タイプを表示します。<br>
![image](https://doc.qt.io/qtdesignstudio/images/loginui2-imports.png)
2. テキストフィールドタイプの 2 つのインスタンスをフォームエディタにドラッグ＆ドロップします。
3. ナビゲータでテキストフィールドの 1 つを選択し、プロパティビューでその ID を usernameField に変更します。
4. Geometry グループの Size フィールドで、フィールドの幅を 300 ピクセルに設定します。
5. プレースホルダフィールドにユーザー名を入力し、TR を選択してテキストを翻訳可能にします。<br>
![image](https://doc.qt.io/qtdesignstudio/images/loginui2-field-properties.png)
6. テキストフィールドで、デフォルトのテキストを削除して、プレースホルダテキストをフォームエディタで表示できるようにします。テキストの値は常にプレースホルダテキストの値よりも優先されます。
7. 他のテキストフィールドを選択し、その id を passwordField に、プレースホルダテキストを Password に、幅を 300 ピクセルに変更します。また、デフォルトのテキストも削除します。

これで、フィールドとボタンを列として配置します。

1. ナビゲータで usernameField と passwordField を選択し、どちらかの項目を右クリックしてコンテキストメニューを開きます。
2. 位置 > 列内の位置を選択して、フォームエディタでフィールドを重ねて配置します。
3. ナビゲータでカラムを選択し、プロパティでそのIDをfieldColumnに変更します。
4. スペーシングフィールドで、フィールド間の間隔を 5 ピクセルに設定します。<br>
![image](https://doc.qt.io/qtdesignstudio/images/loginui2-column-properties.png)
5. loginButtonとregisterButtonを選択し、Position > Position in Columnを選択して列に配置します。
6. ボタン列を選択し、そのidをbuttonColumnに変更し、上記のようにボタン間の間隔を5ピクセルに設定します。

これで、フィールドとボタンのカラムをページにアンカーします。

1. ナビゲータでfieldColumnを選択します。
2. プロパティ] > [レイアウト]で、[トップ]ボタンを選択して、ボタン列のトップを親（loginPage）のトップに200ピクセルの余白で固定します。
3. (Horizontal Center)ボタンを選択して、フィールド列をページ上で水平方向に中央に配置します。
4. ナビゲータでbuttonColumnを選択します。
5. プロパティ] > [レイアウト]で、[ボトム]ボタンを選択して、ボタン列のボトムを親（loginPage）のボトムに50ピクセルのマージンで固定します。
6. 水平中心］ボタンを選択して、ボタン列をページ上で水平方向に中心に配置します。
7. ファイル] > [保存]を選択するか、[Ctrl+S]を押して変更を保存します。

これでUIの2回目のイテレーションの準備ができ、デザインモードとライブプレビューでは以下のように表示されるはずです。

![image](https://doc.qt.io/qtdesignstudio/images/loginui2-loginpage-ready.png)

***

## Qt Quick を学ぶ - ポジショナー

Qt Quick には、組み込みのポジショナー項目が用意されています。多くのユースケースで最適なポジショナーはシンプルなグリッド、行、列であり、Qt Quick はこれらのフォーメーションの中で子を可能な限り効率的に配置するためのアイテムを提供しています。事前に定義されたポジショナーの使用についての詳細は、アイテム ポジショナーを参照してください。

より複雑な UI デザインの場合は、Qt Quick Layouts モジュールの QML タイプを使用することができます。

***

## 次のステップ

Qt Design Studio でのアイテムの配置について詳しくは、「UI でのアイテムの配置」を参照してください。

2 番目のページを追加してメイン ページから移動する方法については、シリーズの次の例「Log In UI - パート 3」を参照してください。

***

**[次へ](../index.html)**
